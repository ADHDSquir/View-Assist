type: custom:button-card
variables:
  background: /local/viewassist/pinkbluesky.jpg
  clockcardversion: "1.0.0"
template:
  - variable_template
  - body_template
styles:
  grid:
    - grid-template-areas: |
        "title status"  
        "time time"
        "date date"
        "assist assist"
    - grid-template-rows: min-content min-content min-content min-content
  card:
    - background: '[[[ return `center / cover no-repeat url(${variables.background})` ]]]'
    - background-size: cover
  custom_fields:
    time:
      - justify-self: center
      - z-index: 2
      - font-size: 1000%;
      - font-weight: bold
      - position: absolute
      - color: '[[[ return variables.font_color ]]]'
    date:
      - justify-self: center
      - align-self: center
      - z-index: 2
      - font-size: 250%
      - width: max-content
      - position: absolute
      - color: '[[[ return variables.font_color ]]]'
      - top: 65%
    night:
      - position: absolute
      - min-height: 200%
      - width: 200%
      - backdrop-filter: brightness(10%)
      - overflow: hidden
      - display: >-
          [[[ if (hass.states[variables.var_assistsat_entity].attributes.mode
          === "night") return "block"; else return "none"; ]]]      
      - z-index: 3
custom_fields:
  title:
    card:
      type: custom:button-card
      name: |
        [[[ return `
        <ha-icon icon="${variables.var_weather_icon}" style="height: 1.25em; width: 1.25em; display: inline-flex;"></ha-icon> ${variables.var_weather_temperature}
        ` ]]]
      tap_action:
        action: navigate
        navigation_path: /dashboard-viewassist/weather
      styles:
        card:
          - background-color: transparent
          - padding: 0px
          - border-width: 0px
        name:
          - font-size: 250%
          - color: '[[[ return variables.font_color ]]]'
  time: '[[[ return variables.var_current_time ]]]'
  date: '[[[ return variables.var_date_short ]]]'
  night: .
